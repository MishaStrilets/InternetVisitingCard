2017-12-26 22:30:35.899  INFO 5984 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on Misha-PC with PID 5984 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha in D:\Job\Projects\InternetVisitingCard)
2017-12-26 22:30:35.975  INFO 5984 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-26 22:30:36.662  INFO 5984 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:30:36 EET 2017]; root of context hierarchy
2017-12-26 22:31:10.860  INFO 5984 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-26 22:31:11.220  INFO 5984 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-26 22:31:11.295  INFO 5984 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-26 22:31:19.107  INFO 5984 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-26 22:31:19.209  INFO 5984 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-26 22:31:19.214  INFO 5984 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 42588 ms
2017-12-26 22:31:21.007  INFO 5984 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-26 22:31:21.031  INFO 5984 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-26 22:31:21.032  INFO 5984 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-26 22:31:24.225  INFO 5984 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-26 22:31:31.219  INFO 5984 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-26 22:31:31.636  WARN 5984 --- [main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'dao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDao': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.hibernate5.LocalSessionFactoryBean]: Factory method 'sessionFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
2017-12-26 22:31:31.654  INFO 5984 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2017-12-26 22:31:32.152  INFO 5984 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-12-26 22:31:32.304 ERROR 5984 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'dao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDao': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.hibernate5.LocalSessionFactoryBean]: Factory method 'sessionFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at strilets.InternetVisitingCardApplication.main(InternetVisitingCardApplication.java:17) [classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'dao'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDao': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.hibernate5.LocalSessionFactoryBean]: Factory method 'sessionFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDao': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.hibernate5.LocalSessionFactoryBean]: Factory method 'sessionFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 32 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.hibernate5.LocalSessionFactoryBean]: Factory method 'sessionFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 45 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.hibernate5.LocalSessionFactoryBean]: Factory method 'sessionFactory' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [strilets/configuration/HibernateConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.obtainBeanInstanceFromFactory(ConfigurationClassEnhancer.java:389) ~[spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) ~[spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at strilets.configuration.HibernateConfiguration$$EnhancerBySpringCGLIB$$88bbf46.dataSource(<generated>) ~[classes/:na]
	at strilets.configuration.HibernateConfiguration.sessionFactory(HibernateConfiguration.java:31) ~[classes/:na]
	at strilets.configuration.HibernateConfiguration$$EnhancerBySpringCGLIB$$88bbf46.CGLIB$sessionFactory$2(<generated>) ~[classes/:na]
	at strilets.configuration.HibernateConfiguration$$EnhancerBySpringCGLIB$$88bbf46$$FastClassBySpringCGLIB$$80a401c9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at strilets.configuration.HibernateConfiguration$$EnhancerBySpringCGLIB$$88bbf46.sessionFactory(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 58 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceInitializer': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:220) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1018) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:345) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:340) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:62) ~[spring-boot-autoconfigure-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1633) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 77 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]: CREATE TABLE IF NOT EXISTS user ( id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY, login VARCHAR(30) NOT NULL UNIQUE, password VARCHAR(100) NOT NULL, name VARCHAR(30), description TEXT, people VARCHAR(50), address VARCHAR(50), email VARCHAR(50), phone VARCHAR(50), facebook VARCHAR(30), twitter VARCHAR(30), instagram VARCHAR(30), role VARCHAR(5) NOT NULL, image longblob, name_image VARCHAR(15), type VARCHAR(15); nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:491) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:192) ~[spring-boot-autoconfigure-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runSchemaScripts(DataSourceInitializer.java:92) ~[spring-boot-autoconfigure-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.init(DataSourceInitializer.java:83) ~[spring-boot-autoconfigure-1.5.6.RELEASE.jar:1.5.6.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 92 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:1.8.0_101]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.Util.getInstance(Util.java:408) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2448) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.StatementImpl.executeInternal(StatementImpl.java:845) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:745) ~[mysql-connector-java-5.1.43.jar:5.1.43]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:470) ~[spring-jdbc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	... 104 common frames omitted

2017-12-26 22:33:56.875  INFO 5388 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on Misha-PC with PID 5388 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha in D:\Job\Projects\InternetVisitingCard)
2017-12-26 22:33:57.123  INFO 5388 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-26 22:33:58.193  INFO 5388 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:33:58 EET 2017]; root of context hierarchy
2017-12-26 22:34:06.644  INFO 5388 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-26 22:34:06.690  INFO 5388 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-26 22:34:06.690  INFO 5388 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-26 22:34:07.311  INFO 5388 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-26 22:34:07.323  INFO 5388 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-26 22:34:07.324  INFO 5388 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 9235 ms
2017-12-26 22:34:07.684  INFO 5388 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-26 22:34:07.687  INFO 5388 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-26 22:34:07.688  INFO 5388 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-26 22:34:07.871  INFO 5388 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-26 22:34:08.687  INFO 5388 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-26 22:34:11.407  INFO 5388 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql] in 2720 ms.
2017-12-26 22:34:13.513  INFO 5388 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-12-26 22:34:13.552  INFO 5388 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-12-26 22:34:13.572  INFO 5388 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-12-26 22:34:14.272  INFO 5388 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-12-26 22:34:17.442  INFO 5388 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2017-12-26 22:34:27.145  INFO 5388 --- [main] o.s.o.h.HibernateTransactionManager      : Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@84624f] of Hibernate SessionFactory for HibernateTransactionManager
2017-12-26 22:34:27.495  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/]}" onto java.lang.String strilets.controller.AppController.index()
2017-12-26 22:34:27.500  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.viewCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-26 22:34:27.502  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.listCards(org.springframework.ui.ModelMap)
2017-12-26 22:34:27.506  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.searchCards(strilets.model.Search,org.springframework.ui.ModelMap)
2017-12-26 22:34:27.509  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.updateCard(strilets.model.Card,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap,java.lang.String) throws java.io.IOException
2017-12-26 22:34:27.511  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/image-{login}]}" onto public void strilets.controller.AppController.getUserImage(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
2017-12-26 22:34:27.512  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUser(java.lang.String)
2017-12-26 22:34:27.513  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-image-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUmage(java.lang.String)
2017-12-26 22:34:27.515  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/access_denied]}" onto public java.lang.String strilets.controller.AppController.accessDeniedPage()
2017-12-26 22:34:27.516  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.loginPage()
2017-12-26 22:34:27.517  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.logoutPage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-26 22:34:27.519  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.newUser(org.springframework.ui.ModelMap)
2017-12-26 22:34:27.520  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.saveUser(strilets.model.User,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap)
2017-12-26 22:34:27.521  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.editCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-26 22:34:27.597  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-12-26 22:34:27.599  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-26 22:34:27.886  INFO 5388 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-12-26 22:34:28.175  INFO 5388 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:33:58 EET 2017]; root of context hierarchy
2017-12-26 22:34:29.834  INFO 5388 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d96b41, org.springframework.security.web.context.SecurityContextPersistenceFilter@9319c3, org.springframework.security.web.header.HeaderWriterFilter@1c0bbc6, org.springframework.security.web.csrf.CsrfFilter@6f1852, org.springframework.security.web.authentication.logout.LogoutFilter@1e3d7dd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@14c8f29, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d9b41, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14c5e41, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@c9b52f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ffe70, org.springframework.security.web.session.SessionManagementFilter@1d09e43, org.springframework.security.web.access.ExceptionTranslationFilter@18b0739, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e34b]
2017-12-26 22:34:31.326  INFO 5388 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-12-26 22:34:32.317  INFO 5388 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-12-26 22:34:32.392  INFO 5388 --- [main] s.InternetVisitingCardApplication        : Started InternetVisitingCardApplication in 40.752 seconds (JVM running for 48.386)
2017-12-26 22:34:42.649  INFO 5388 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-12-26 22:34:42.655  INFO 5388 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-12-26 22:34:42.808  INFO 5388 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 152 ms
2017-12-26 22:38:02.552  INFO 5388 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:03.028  INFO 5388 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 22:38:03.042  INFO 5388 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 22:38:03.739  INFO 5388 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:03.742  INFO 5388 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 22:38:04.583  INFO 5388 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 22:38:26.679  INFO 5388 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:26.801  INFO 5388 --- [http-nio-8080-exec-10] strilets.security.UserServiceDetail      : User : strilets.model.User@a7c5b9
2017-12-26 22:38:26.812  INFO 5388 --- [http-nio-8080-exec-10] strilets.security.UserServiceDetail      : Card profile : strilets.model.User@a7c5b9
2017-12-26 22:38:26.814  INFO 5388 --- [http-nio-8080-exec-10] strilets.security.UserServiceDetail      : Authorities : [ROLE_ADMIN]
2017-12-26 22:38:32.477  INFO 5388 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:32.710  INFO 5388 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:32.827  INFO 5388 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 22:38:32.895  INFO 5388 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 22:38:33.241  INFO 5388 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 22:38:33.275  INFO 5388 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 22:38:35.662  INFO 5388 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:38.022  INFO 5388 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:38.536  INFO 5388 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:47.382  INFO 5388 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:49.128  INFO 5388 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:49.407  INFO 5388 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 22:38:57.343  INFO 5388 --- [http-nio-8080-exec-10] strilets.dao.TokenRepositoryImpl         : Removing token if any for user : admin
2017-12-26 22:40:09.681  INFO 5388 --- [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2017-12-26 22:40:09.681  INFO 5388 --- [RMI TCP Connection(2)-127.0.0.1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:33:58 EET 2017]; root of context hierarchy
2017-12-26 22:40:09.697  INFO 5388 --- [RMI TCP Connection(2)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2017-12-26 22:59:57.088  INFO 2520 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on Misha-PC with PID 2520 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha in D:\Job\Projects\InternetVisitingCard)
2017-12-26 22:59:57.160  INFO 2520 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-26 22:59:57.644  INFO 2520 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:59:57 EET 2017]; root of context hierarchy
2017-12-26 23:00:03.842  INFO 2520 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-26 23:00:03.961  INFO 2520 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-26 23:00:03.980  INFO 2520 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-26 23:00:05.458  INFO 2520 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-26 23:00:05.470  INFO 2520 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-26 23:00:05.471  INFO 2520 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7917 ms
2017-12-26 23:00:05.935  INFO 2520 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-26 23:00:05.938  INFO 2520 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-26 23:00:05.939  INFO 2520 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-26 23:00:06.208  INFO 2520 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-26 23:00:06.962  INFO 2520 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-26 23:00:07.032  INFO 2520 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql] in 69 ms.
2017-12-26 23:00:07.794  INFO 2520 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-12-26 23:00:07.827  INFO 2520 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-12-26 23:00:07.854  INFO 2520 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-12-26 23:00:08.728  INFO 2520 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-12-26 23:00:10.013  INFO 2520 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2017-12-26 23:00:18.965  INFO 2520 --- [main] o.s.o.h.HibernateTransactionManager      : Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@865a90] of Hibernate SessionFactory for HibernateTransactionManager
2017-12-26 23:00:19.313  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/]}" onto java.lang.String strilets.controller.AppController.index()
2017-12-26 23:00:19.322  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.newUser(org.springframework.ui.ModelMap)
2017-12-26 23:00:19.325  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.saveUser(strilets.model.User,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap)
2017-12-26 23:00:19.327  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.editCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-26 23:00:19.328  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.viewCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-26 23:00:19.330  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.listCards(org.springframework.ui.ModelMap)
2017-12-26 23:00:19.331  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.searchCards(strilets.model.Search,org.springframework.ui.ModelMap)
2017-12-26 23:00:19.333  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.updateCard(strilets.model.Card,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap,java.lang.String) throws java.io.IOException
2017-12-26 23:00:19.336  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/image-{login}]}" onto public void strilets.controller.AppController.getUserImage(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
2017-12-26 23:00:19.338  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUser(java.lang.String)
2017-12-26 23:00:19.339  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-image-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUmage(java.lang.String)
2017-12-26 23:00:19.341  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/access_denied]}" onto public java.lang.String strilets.controller.AppController.accessDeniedPage()
2017-12-26 23:00:19.342  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.loginPage()
2017-12-26 23:00:19.344  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.logoutPage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-26 23:00:19.421  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-12-26 23:00:19.423  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-26 23:00:19.703  INFO 2520 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-12-26 23:00:19.930  INFO 2520 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:59:57 EET 2017]; root of context hierarchy
2017-12-26 23:00:21.783  INFO 2520 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6394ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@d388f5, org.springframework.security.web.header.HeaderWriterFilter@15bd362, org.springframework.security.web.csrf.CsrfFilter@f336fd, org.springframework.security.web.authentication.logout.LogoutFilter@7e962d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1f295b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d77826, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c30dee, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@14ae8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4212ab, org.springframework.security.web.session.SessionManagementFilter@193ad58, org.springframework.security.web.access.ExceptionTranslationFilter@b0afd7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b0f6e]
2017-12-26 23:00:23.680  INFO 2520 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-12-26 23:00:24.387  INFO 2520 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-12-26 23:00:24.427  INFO 2520 --- [main] s.InternetVisitingCardApplication        : Started InternetVisitingCardApplication in 29.281 seconds (JVM running for 37.118)
2017-12-26 23:00:29.090  INFO 2520 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-12-26 23:00:29.092  INFO 2520 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-12-26 23:00:29.213  INFO 2520 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 120 ms
2017-12-26 23:00:50.237  INFO 2520 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:00:50.462  INFO 2520 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:00:50.650  INFO 2520 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:00:50.748  INFO 2520 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:00:50.811  INFO 2520 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:00:51.046  INFO 2520 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:02:17.024  INFO 2520 --- [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2017-12-26 23:02:17.026  INFO 2520 --- [RMI TCP Connection(2)-127.0.0.1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 22:59:57 EET 2017]; root of context hierarchy
2017-12-26 23:02:17.045  INFO 2520 --- [RMI TCP Connection(2)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2017-12-26 23:04:45.870  INFO 1296 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on Misha-PC with PID 1296 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha in D:\Job\Projects\InternetVisitingCard)
2017-12-26 23:04:45.883  INFO 1296 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-26 23:04:46.197  INFO 1296 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 23:04:46 EET 2017]; root of context hierarchy
2017-12-26 23:04:51.217  INFO 1296 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-26 23:04:51.264  INFO 1296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-26 23:04:51.266  INFO 1296 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-26 23:04:51.843  INFO 1296 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-26 23:04:51.853  INFO 1296 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-26 23:04:51.853  INFO 1296 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5670 ms
2017-12-26 23:04:52.187  INFO 1296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-26 23:04:52.190  INFO 1296 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-26 23:04:52.192  INFO 1296 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-26 23:04:52.375  INFO 1296 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-26 23:04:53.083  INFO 1296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-26 23:04:53.138  INFO 1296 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql] in 54 ms.
2017-12-26 23:04:53.414  INFO 1296 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-12-26 23:04:53.420  INFO 1296 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-12-26 23:04:53.423  INFO 1296 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-12-26 23:04:53.527  INFO 1296 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-12-26 23:04:53.848  INFO 1296 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2017-12-26 23:04:55.984  INFO 1296 --- [main] o.s.o.h.HibernateTransactionManager      : Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@b0ae1b] of Hibernate SessionFactory for HibernateTransactionManager
2017-12-26 23:04:56.110  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/]}" onto java.lang.String strilets.controller.AppController.index()
2017-12-26 23:04:56.112  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.newUser(org.springframework.ui.ModelMap)
2017-12-26 23:04:56.113  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.saveUser(strilets.model.User,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap)
2017-12-26 23:04:56.114  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.editCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-26 23:04:56.115  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.viewCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-26 23:04:56.116  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.listCards(org.springframework.ui.ModelMap)
2017-12-26 23:04:56.116  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.searchCards(strilets.model.Search,org.springframework.ui.ModelMap)
2017-12-26 23:04:56.117  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.updateCard(strilets.model.Card,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap,java.lang.String) throws java.io.IOException
2017-12-26 23:04:56.117  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/image-{login}]}" onto public void strilets.controller.AppController.getUserImage(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
2017-12-26 23:04:56.118  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUser(java.lang.String)
2017-12-26 23:04:56.118  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-image-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUmage(java.lang.String)
2017-12-26 23:04:56.119  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/access_denied]}" onto public java.lang.String strilets.controller.AppController.accessDeniedPage()
2017-12-26 23:04:56.119  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.loginPage()
2017-12-26 23:04:56.120  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.logoutPage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-26 23:04:56.143  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-12-26 23:04:56.144  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-26 23:04:56.239  INFO 1296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-12-26 23:04:56.325  INFO 1296 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 23:04:46 EET 2017]; root of context hierarchy
2017-12-26 23:04:57.004  INFO 1296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@224df5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e79d43, org.springframework.security.web.header.HeaderWriterFilter@7a12b6, org.springframework.security.web.csrf.CsrfFilter@e0cc89, org.springframework.security.web.authentication.logout.LogoutFilter@1dad32f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@196b249, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a07bf6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a7fedf, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@2ee49c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@456db0, org.springframework.security.web.session.SessionManagementFilter@f7e376, org.springframework.security.web.access.ExceptionTranslationFilter@13ff859, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28fee1]
2017-12-26 23:04:57.886  INFO 1296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-12-26 23:04:58.057  INFO 1296 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-12-26 23:04:58.068  INFO 1296 --- [main] s.InternetVisitingCardApplication        : Started InternetVisitingCardApplication in 13.798 seconds (JVM running for 17.585)
2017-12-26 23:05:54.694  INFO 1296 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-12-26 23:05:54.696  INFO 1296 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-12-26 23:05:54.833  INFO 1296 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 136 ms
2017-12-26 23:06:08.093  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:06:08.243  INFO 1296 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:06:08.297  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:06:08.324  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:06:08.504  INFO 1296 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:06:08.659  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:06:19.250  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:06:19.447  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:06:19.588  INFO 1296 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:06:19.622  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:06:19.988  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:06:20.228  INFO 1296 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:08:24.904  INFO 1296 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:08:25.056  INFO 1296 --- [http-nio-8080-exec-3] strilets.security.UserServiceDetail      : User : strilets.model.User@6502be
2017-12-26 23:08:25.068  INFO 1296 --- [http-nio-8080-exec-3] strilets.security.UserServiceDetail      : Card profile : strilets.model.User@6502be
2017-12-26 23:08:25.071  INFO 1296 --- [http-nio-8080-exec-3] strilets.security.UserServiceDetail      : Authorities : [ROLE_ADMIN]
2017-12-26 23:09:11.827  INFO 1296 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:12.002  INFO 1296 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:12.546  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:09:12.579  INFO 1296 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:09:12.774  INFO 1296 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:09:13.284  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:09:14.985  INFO 1296 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:17.683  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:17.960  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:22.202  INFO 1296 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:23.735  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:23.909  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:38.793  INFO 1296 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:39.056  INFO 1296 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:39.195  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:09:39.199  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:09:39.479  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:09:39.499  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:09:42.360  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:43.116  INFO 1296 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:43.334  INFO 1296 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:45.728  INFO 1296 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:46.188  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:46.334  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:52.930  INFO 1296 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:53.729  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:09:53.738  INFO 1296 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:09:53.816  INFO 1296 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:54.014  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:09:54.076  INFO 1296 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:09:54.936  INFO 1296 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:55.437  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:55.548  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:56.594  INFO 1296 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:57.012  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:09:57.148  INFO 1296 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:10:00.438  INFO 1296 --- [http-nio-8080-exec-4] strilets.dao.TokenRepositoryImpl         : Removing token if any for user : admin
2017-12-26 23:10:05.435  INFO 1296 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:10:05.648  INFO 1296 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:10:05.719  INFO 1296 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:10:05.911  INFO 1296 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:10:05.960  INFO 1296 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : user
2017-12-26 23:10:06.337  INFO 1296 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : pingvin
2017-12-26 23:10:13.355  INFO 1296 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:10:13.886  INFO 1296 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:10:14.096  INFO 1296 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-26 23:10:31.463  INFO 1296 --- [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2017-12-26 23:10:31.467  INFO 1296 --- [RMI TCP Connection(2)-127.0.0.1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Tue Dec 26 23:04:46 EET 2017]; root of context hierarchy
2017-12-26 23:10:31.500  INFO 1296 --- [RMI TCP Connection(2)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2017-12-31 20:54:27.166  INFO 4908 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on MishaStrilets with PID 4908 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha Strilets in D:\Job\Projects\InternetVisitingCard)
2017-12-31 20:54:27.195  INFO 4908 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-31 20:54:27.604  INFO 4908 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 20:54:27 EET 2017]; root of context hierarchy
2017-12-31 20:54:40.286  INFO 4908 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-31 20:54:40.697  INFO 4908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-31 20:54:40.721  INFO 4908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-31 20:54:42.245  INFO 4908 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-31 20:54:42.368  INFO 4908 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-31 20:54:42.369  INFO 4908 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 14780 ms
2017-12-31 20:54:42.802  INFO 4908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-31 20:54:42.806  INFO 4908 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-31 20:54:42.807  INFO 4908 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-31 20:54:43.715  INFO 4908 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-31 20:54:44.968  INFO 4908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-31 20:54:46.379  INFO 4908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql] in 1409 ms.
2017-12-31 20:54:47.430  INFO 4908 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-12-31 20:54:47.449  INFO 4908 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-12-31 20:54:47.452  INFO 4908 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-12-31 20:54:47.684  INFO 4908 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-12-31 20:54:48.832  INFO 4908 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2017-12-31 20:54:52.571  INFO 4908 --- [main] o.s.o.h.HibernateTransactionManager      : Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@10f7d9d] of Hibernate SessionFactory for HibernateTransactionManager
2017-12-31 20:54:52.767  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/]}" onto java.lang.String strilets.controller.AppController.index()
2017-12-31 20:54:52.770  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.newUser(org.springframework.ui.ModelMap)
2017-12-31 20:54:52.771  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.saveUser(strilets.model.User,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap)
2017-12-31 20:54:52.772  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.editCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-31 20:54:52.773  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.viewCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-31 20:54:52.773  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.listCards(org.springframework.ui.ModelMap)
2017-12-31 20:54:52.774  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.searchCards(strilets.model.Search,org.springframework.ui.ModelMap)
2017-12-31 20:54:52.774  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.updateCard(strilets.model.Card,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap,java.lang.String) throws java.io.IOException
2017-12-31 20:54:52.775  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/image-{login}]}" onto public void strilets.controller.AppController.getUserImage(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
2017-12-31 20:54:52.776  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUser(java.lang.String)
2017-12-31 20:54:52.776  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-image-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUmage(java.lang.String)
2017-12-31 20:54:52.778  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/access_denied]}" onto public java.lang.String strilets.controller.AppController.accessDeniedPage()
2017-12-31 20:54:52.778  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.loginPage()
2017-12-31 20:54:52.779  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.logoutPage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-31 20:54:52.803  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-12-31 20:54:52.804  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-31 20:54:52.926  INFO 4908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-12-31 20:54:53.301  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 20:54:27 EET 2017]; root of context hierarchy
2017-12-31 20:54:54.957  INFO 4908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ad01fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d2d002, org.springframework.security.web.header.HeaderWriterFilter@faa16c, org.springframework.security.web.csrf.CsrfFilter@c9e023, org.springframework.security.web.authentication.logout.LogoutFilter@153316c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34ff56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20070c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ef1ea2, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1fe243f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@128a578, org.springframework.security.web.session.SessionManagementFilter@1b32a14, org.springframework.security.web.access.ExceptionTranslationFilter@1cd31c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12e5c0d]
2017-12-31 20:54:56.112  INFO 4908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-12-31 20:54:56.652  INFO 4908 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-12-31 20:54:56.676  INFO 4908 --- [main] s.InternetVisitingCardApplication        : Started InternetVisitingCardApplication in 31.999 seconds (JVM running for 40.278)
2017-12-31 20:55:16.106  INFO 4908 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-12-31 20:55:16.107  INFO 4908 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-12-31 20:55:16.182  INFO 4908 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 74 ms
2017-12-31 20:55:42.389  INFO 4908 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:55:43.257  INFO 4908 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Save user: strilets.model.User@1e3501b
2017-12-31 20:55:53.170  INFO 4908 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:55:53.201  INFO 4908 --- [http-nio-8080-exec-2] strilets.security.UserServiceDetail      : User : strilets.model.User@786455
2017-12-31 20:55:53.203  INFO 4908 --- [http-nio-8080-exec-2] strilets.security.UserServiceDetail      : Card profile : strilets.model.User@786455
2017-12-31 20:55:53.204  INFO 4908 --- [http-nio-8080-exec-2] strilets.security.UserServiceDetail      : Authorities : [ROLE_ADMIN]
2017-12-31 20:55:56.265  INFO 4908 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:56:00.863  INFO 4908 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:56:10.261  INFO 4908 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:56:15.461  INFO 4908 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:56:16.682  INFO 4908 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:39.728  INFO 4908 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:43.025  INFO 4908 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:43.141  INFO 4908 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:45.514  INFO 4908 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:46.061  INFO 4908 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:46.329  INFO 4908 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 20:57:53.247  INFO 4908 --- [http-nio-8080-exec-2] strilets.dao.TokenRepositoryImpl         : Removing token if any for user : admin
2017-12-31 20:58:03.649  INFO 4908 --- [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2017-12-31 20:58:03.651  INFO 4908 --- [RMI TCP Connection(2)-127.0.0.1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 20:54:27 EET 2017]; root of context hierarchy
2017-12-31 20:58:03.678  INFO 4908 --- [RMI TCP Connection(2)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2017-12-31 20:58:52.640  INFO 4088 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on MishaStrilets with PID 4088 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha Strilets in D:\Job\Projects\InternetVisitingCard)
2017-12-31 20:58:52.656  INFO 4088 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-31 20:58:52.827  INFO 4088 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 20:58:52 EET 2017]; root of context hierarchy
2017-12-31 20:58:56.935  INFO 4088 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-31 20:58:56.971  INFO 4088 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-31 20:58:56.974  INFO 4088 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-31 20:58:57.551  INFO 4088 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-31 20:58:57.563  INFO 4088 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-31 20:58:57.565  INFO 4088 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4763 ms
2017-12-31 20:58:57.918  INFO 4088 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-31 20:58:57.921  INFO 4088 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-31 20:58:57.922  INFO 4088 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-31 20:58:58.111  INFO 4088 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-31 20:58:58.907  INFO 4088 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-31 20:58:58.940  INFO 4088 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql] in 32 ms.
2017-12-31 20:58:59.245  INFO 4088 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-12-31 20:58:59.252  INFO 4088 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-12-31 20:58:59.256  INFO 4088 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-12-31 20:58:59.363  INFO 4088 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-12-31 20:58:59.631  INFO 4088 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2017-12-31 20:59:01.727  INFO 4088 --- [main] o.s.o.h.HibernateTransactionManager      : Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@865a90] of Hibernate SessionFactory for HibernateTransactionManager
2017-12-31 20:59:01.867  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/]}" onto java.lang.String strilets.controller.AppController.index()
2017-12-31 20:59:01.870  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.listCards(org.springframework.ui.ModelMap)
2017-12-31 20:59:01.871  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.searchCards(strilets.model.Search,org.springframework.ui.ModelMap)
2017-12-31 20:59:01.872  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.updateCard(strilets.model.Card,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap,java.lang.String) throws java.io.IOException
2017-12-31 20:59:01.873  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/image-{login}]}" onto public void strilets.controller.AppController.getUserImage(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
2017-12-31 20:59:01.873  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUser(java.lang.String)
2017-12-31 20:59:01.874  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-image-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUmage(java.lang.String)
2017-12-31 20:59:01.875  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/access_denied]}" onto public java.lang.String strilets.controller.AppController.accessDeniedPage()
2017-12-31 20:59:01.876  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.loginPage()
2017-12-31 20:59:01.877  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.logoutPage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-31 20:59:01.879  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.newUser(org.springframework.ui.ModelMap)
2017-12-31 20:59:01.880  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.saveUser(strilets.model.User,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap)
2017-12-31 20:59:01.881  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.editCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-31 20:59:01.881  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.viewCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-31 20:59:01.904  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-12-31 20:59:01.905  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-31 20:59:02.006  INFO 4088 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-12-31 20:59:02.125  INFO 4088 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 20:58:52 EET 2017]; root of context hierarchy
2017-12-31 20:59:03.065  INFO 4088 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62cfa3, org.springframework.security.web.context.SecurityContextPersistenceFilter@545b0f, org.springframework.security.web.header.HeaderWriterFilter@1ed560f, org.springframework.security.web.csrf.CsrfFilter@1a9ea3c, org.springframework.security.web.authentication.logout.LogoutFilter@256d80, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1e87ddd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dac75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13da830, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1f674ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e190ed, org.springframework.security.web.session.SessionManagementFilter@253c57, org.springframework.security.web.access.ExceptionTranslationFilter@b702ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@13ec32d]
2017-12-31 20:59:04.108  INFO 4088 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-12-31 20:59:04.387  INFO 4088 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-12-31 20:59:04.402  INFO 4088 --- [main] s.InternetVisitingCardApplication        : Started InternetVisitingCardApplication in 12.639 seconds (JVM running for 15.78)
2017-12-31 21:00:15.690  INFO 4088 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-12-31 21:00:15.691  INFO 4088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-12-31 21:00:15.744  INFO 4088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 52 ms
2017-12-31 21:00:19.196  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:00:19.384  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:00:24.504  INFO 4088 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:00:24.577  INFO 4088 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:00:54.945  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:00:55.229  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Save user: strilets.model.User@e4fdb9
2017-12-31 21:01:05.118  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:01:05.127  INFO 4088 --- [http-nio-8080-exec-6] strilets.security.UserServiceDetail      : User : strilets.model.User@12d987e
2017-12-31 21:01:05.130  INFO 4088 --- [http-nio-8080-exec-6] strilets.security.UserServiceDetail      : Card profile : strilets.model.User@12d987e
2017-12-31 21:01:05.130  INFO 4088 --- [http-nio-8080-exec-6] strilets.security.UserServiceDetail      : Authorities : [ROLE_USER]
2017-12-31 21:01:07.589  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:12.255  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:12.323  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:12.413 ERROR 4088 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.io.ByteArrayInputStream.<init>(Unknown Source) ~[na:1.8.0_101]
	at strilets.controller.AppController.getUserImage(AppController.java:199) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_101]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_101]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_101]

2017-12-31 21:21:14.381  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:24.649  INFO 4088 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:27.236  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:27.286  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:27.305 ERROR 4088 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.io.ByteArrayInputStream.<init>(Unknown Source) ~[na:1.8.0_101]
	at strilets.controller.AppController.getUserImage(AppController.java:199) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_101]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_101]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_101]

2017-12-31 21:21:29.587  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:32.695  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:21:32.808  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:21:36.840  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:21:42.867  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:38.199  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:38.325  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:38.347 ERROR 4088 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.io.ByteArrayInputStream.<init>(Unknown Source) ~[na:1.8.0_101]
	at strilets.controller.AppController.getUserImage(AppController.java:199) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_101]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_101]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_101]

2017-12-31 21:22:40.578  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:43.454  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:53.095  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:53.114  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:53.127 ERROR 4088 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.io.ByteArrayInputStream.<init>(Unknown Source) ~[na:1.8.0_101]
	at strilets.controller.AppController.getUserImage(AppController.java:199) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_101]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_101]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_101]

2017-12-31 21:22:55.038  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:22:59.155  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:22:59.226  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:01.709  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.TokenRepositoryImpl         : Removing token if any for user : company
2017-12-31 21:23:04.201  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:04.284  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:06.231  INFO 4088 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:23:21.589  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:21.723  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:33.053  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:33.103  INFO 4088 --- [http-nio-8080-exec-3] strilets.security.UserServiceDetail      : User : strilets.model.User@126b26a
2017-12-31 21:23:33.104  INFO 4088 --- [http-nio-8080-exec-3] strilets.security.UserServiceDetail      : Card profile : strilets.model.User@126b26a
2017-12-31 21:23:33.104  INFO 4088 --- [http-nio-8080-exec-3] strilets.security.UserServiceDetail      : Authorities : [ROLE_ADMIN]
2017-12-31 21:23:35.622  INFO 4088 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:35.694  INFO 4088 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:38.856  INFO 4088 --- [http-nio-8080-exec-1] strilets.dao.UserDaoImpl                 : Get user login : company
2017-12-31 21:23:42.016  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Delete user login: company
2017-12-31 21:23:42.563  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:42.893  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:23:44.908  INFO 4088 --- [http-nio-8080-exec-5] strilets.dao.TokenRepositoryImpl         : Removing token if any for user : admin
2017-12-31 21:28:13.792  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:28:13.904  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:28:28.416  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:28:28.768  INFO 4088 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Save user: strilets.model.User@b42efa
2017-12-31 21:28:37.642  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:28:37.707  INFO 4088 --- [http-nio-8080-exec-2] strilets.security.UserServiceDetail      : User : strilets.model.User@1147fe3
2017-12-31 21:28:37.707  INFO 4088 --- [http-nio-8080-exec-2] strilets.security.UserServiceDetail      : Card profile : strilets.model.User@1147fe3
2017-12-31 21:28:37.708  INFO 4088 --- [http-nio-8080-exec-2] strilets.security.UserServiceDetail      : Authorities : [ROLE_USER]
2017-12-31 21:28:39.775  INFO 4088 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:29:35.989  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:29:36.190  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:29:36.210 ERROR 4088 --- [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.io.ByteArrayInputStream.<init>(Unknown Source) ~[na:1.8.0_101]
	at strilets.controller.AppController.getUserImage(AppController.java:199) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_101]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_101]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_101]

2017-12-31 21:29:38.550  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:29:41.896  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:00.422  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:01.055  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:01.138  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:01.197 ERROR 4088 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at java.io.ByteArrayInputStream.<init>(Unknown Source) ~[na:1.8.0_101]
	at strilets.controller.AppController.getUserImage(AppController.java:199) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_101]
	at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_101]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_101]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_101]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]
	at java.lang.Thread.run(Unknown Source) [na:1.8.0_101]

2017-12-31 21:30:02.884  INFO 4088 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:07.331  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:12.037  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:12.469  INFO 4088 --- [http-nio-8080-exec-5] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:19.750  INFO 4088 --- [http-nio-8080-exec-7] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:22.873  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:22.949  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:25.716  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:26.020  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:30:26.085  INFO 4088 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:31:22.839  INFO 4088 --- [http-nio-8080-exec-5] strilets.dao.TokenRepositoryImpl         : Removing token if any for user : pingvini
2017-12-31 21:31:25.405  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:31:25.520  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:31:25.524  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:31:25.809  INFO 4088 --- [http-nio-8080-exec-3] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:31:56.265  INFO 4088 --- [http-nio-8080-exec-4] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:31:56.532  INFO 4088 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:31:56.741  INFO 4088 --- [http-nio-8080-exec-9] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:32:17.966  INFO 4088 --- [http-nio-8080-exec-10] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:32:18.529  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:32:18.619  INFO 4088 --- [http-nio-8080-exec-2] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:35:03.337  INFO 4088 --- [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2017-12-31 21:35:03.339  INFO 4088 --- [RMI TCP Connection(2)-127.0.0.1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 20:58:52 EET 2017]; root of context hierarchy
2017-12-31 21:35:03.349  INFO 4088 --- [RMI TCP Connection(2)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2017-12-31 21:36:38.291  INFO 4908 --- [main] s.InternetVisitingCardApplication        : Starting InternetVisitingCardApplication on MishaStrilets with PID 4908 (D:\Job\Projects\InternetVisitingCard\target\classes started by Misha Strilets in D:\Job\Projects\InternetVisitingCard)
2017-12-31 21:36:38.341  INFO 4908 --- [main] s.InternetVisitingCardApplication        : No active profile set, falling back to default profiles: default
2017-12-31 21:36:39.701  INFO 4908 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 21:36:39 EET 2017]; root of context hierarchy
2017-12-31 21:37:02.468  INFO 4908 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)
2017-12-31 21:37:03.546  INFO 4908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-12-31 21:37:03.574  INFO 4908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16
2017-12-31 21:37:07.656  INFO 4908 --- [localhost-startStop-1] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2017-12-31 21:37:07.704  INFO 4908 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-12-31 21:37:07.707  INFO 4908 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 28053 ms
2017-12-31 21:37:08.393  INFO 4908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-12-31 21:37:08.406  INFO 4908 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2017-12-31 21:37:08.408  INFO 4908 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-12-31 21:37:10.645  INFO 4908 --- [main] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2017-12-31 21:37:14.316  INFO 4908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql]
2017-12-31 21:37:15.348  INFO 4908 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/D:/Job/Projects/InternetVisitingCard/target/classes/schema.sql] in 1030 ms.
2017-12-31 21:37:23.117  INFO 4908 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-12-31 21:37:23.187  INFO 4908 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-12-31 21:37:23.397  INFO 4908 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-12-31 21:37:25.630  INFO 4908 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-12-31 21:37:31.012  INFO 4908 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2017-12-31 21:37:51.850  INFO 4908 --- [main] o.s.o.h.HibernateTransactionManager      : Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@53bb6f] of Hibernate SessionFactory for HibernateTransactionManager
2017-12-31 21:37:53.097  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/]}" onto java.lang.String strilets.controller.AppController.index()
2017-12-31 21:37:53.103  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.newUser(org.springframework.ui.ModelMap)
2017-12-31 21:37:53.106  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/registration-user],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.saveUser(strilets.model.User,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap)
2017-12-31 21:37:53.108  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.listCards(org.springframework.ui.ModelMap)
2017-12-31 21:37:53.110  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/list-cards],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.searchCards(strilets.model.Search,org.springframework.ui.ModelMap)
2017-12-31 21:37:53.113  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[POST]}" onto public java.lang.String strilets.controller.AppController.updateCard(strilets.model.Card,org.springframework.validation.BindingResult,org.springframework.ui.ModelMap,java.lang.String) throws java.io.IOException
2017-12-31 21:37:53.121  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/image-{login}]}" onto public void strilets.controller.AppController.getUserImage(javax.servlet.http.HttpServletResponse,java.lang.String) throws java.io.IOException
2017-12-31 21:37:53.137  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUser(java.lang.String)
2017-12-31 21:37:53.138  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/delete-image-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.deleteUmage(java.lang.String)
2017-12-31 21:37:53.139  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/access_denied]}" onto public java.lang.String strilets.controller.AppController.accessDeniedPage()
2017-12-31 21:37:53.140  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.loginPage()
2017-12-31 21:37:53.253  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.logoutPage(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-31 21:37:53.264  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/edit-card-{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.editCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-31 21:37:53.276  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/{login}],methods=[GET]}" onto public java.lang.String strilets.controller.AppController.viewCard(java.lang.String,org.springframework.ui.ModelMap)
2017-12-31 21:37:53.340  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-12-31 21:37:53.376  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-12-31 21:37:54.024  INFO 4908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/static/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-12-31 21:37:54.998  INFO 4908 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 21:36:39 EET 2017]; root of context hierarchy
2017-12-31 21:37:59.753  INFO 4908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1eeff87, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f18e31, org.springframework.security.web.header.HeaderWriterFilter@62ead7, org.springframework.security.web.csrf.CsrfFilter@12744a1, org.springframework.security.web.authentication.logout.LogoutFilter@1d2d002, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1fc862e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c8d8be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17b6a37, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@99eac7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14fc2d1, org.springframework.security.web.session.SessionManagementFilter@1f75b5c, org.springframework.security.web.access.ExceptionTranslationFilter@2e682a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fbbff7]
2017-12-31 21:38:02.794  INFO 4908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-12-31 21:38:04.795  INFO 4908 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)
2017-12-31 21:38:04.811  INFO 4908 --- [main] s.InternetVisitingCardApplication        : Started InternetVisitingCardApplication in 91.98 seconds (JVM running for 123.01)
2017-12-31 21:38:14.837  INFO 4908 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-12-31 21:38:14.838  INFO 4908 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-12-31 21:38:15.055  INFO 4908 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 217 ms
2017-12-31 21:39:20.897  INFO 4908 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:39:21.113  INFO 4908 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:39:22.142  INFO 4908 --- [http-nio-8080-exec-6] strilets.dao.UserDaoImpl                 : Get user login : admin
2017-12-31 21:39:22.146  INFO 4908 --- [http-nio-8080-exec-8] strilets.dao.UserDaoImpl                 : Get user login : pingvini
2017-12-31 21:40:08.561  INFO 4908 --- [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2017-12-31 21:40:08.563  INFO 4908 --- [RMI TCP Connection(2)-127.0.0.1] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@d0fbae: startup date [Sun Dec 31 21:36:39 EET 2017]; root of context hierarchy
2017-12-31 21:40:08.573  INFO 4908 --- [RMI TCP Connection(2)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
